<div class="buying">
  <div class="table-header" fxLayoutAlign="space-between center">
    <span class="updated-at">{{ updatedAt | date: 'medium' }}</span>
    <p-checkbox
      label="Only buyouts"
      (onChange)="onOnlyBuyoutsChange($event)"
      [(ngModel)]="onlyBuyouts"
      binary="true"
    ></p-checkbox>

    <div class="search" fxLayoutAlign="center center">
      <div class="ui-inputgroup">
        <span class="ui-inputgroup-addon"
          ><i class="pi pi-search" style="line-height: 1.25;"></i
        ></span>
        <input #searchInput type="text" pInputText placeholder="Item name" />
      </div>
    </div>
  </div>

  <p-table [value]="items">
    <ng-template pTemplate="header">
      <tr>
        <th
          [ngStyle]="{ width: column.width }"
          *ngFor="let column of displayedColumns"
        >
          {{ column.label }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>
          <img [src]="'http://localhost:3031/v1/' + item.icon" />
        </td>
        <td>
          {{ item.name | unescape }}
        </td>
        <td>
          {{ item.count }}
        </td>
        <td>
          {{ item.buyout | toGold }}
        </td>
        <td>
          {{ item.profit | toGold }}
        </td>
        <td>{{ item.profitPct }}%</td>
      </tr>
    </ng-template>
  </p-table>
  <p-paginator
    [rows]="15"
    [totalRecords]="totalItems"
    (onPageChange)="onPageChange($event)"
  >
  </p-paginator>
</div>
